Maybe replace maps with default js objects DONT DO THIS leads to longer execution time and higher memory footprint
Convert Battleresult into an enum?
Convert steal/lost resources into Key,Value Objects instead of arrays

There are some TODOS with questions
